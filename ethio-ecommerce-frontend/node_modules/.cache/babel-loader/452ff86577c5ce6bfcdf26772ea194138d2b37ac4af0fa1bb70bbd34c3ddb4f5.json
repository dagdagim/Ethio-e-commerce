{"ast":null,"code":"var _jsxFileName = \"C:\\\\my project\\\\final project\\\\ethio-ecommerce\\\\ethio-ecommerce-frontend\\\\src\\\\pages\\\\OrdersPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Card, Table, Badge, Button, Form, Modal, ListGroup, ProgressBar } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { ordersAPI } from '../services/api';\nimport { useApp } from '../contexts/AppContext';\nimport LoadingSpinner from '../components/common/LoadingSpinner';\nimport Message from '../components/common/Message';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst OrdersPage = () => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [filter, setFilter] = useState('all');\n  const [trackingOrder, setTrackingOrder] = useState(null);\n  const [showTrackingModal, setShowTrackingModal] = useState(false);\n  const [copyFeedback, setCopyFeedback] = useState('');\n  const {\n    formatPrice\n  } = useApp();\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n  useEffect(() => {\n    if (!copyFeedback) return undefined;\n    const timeout = setTimeout(() => setCopyFeedback(''), 2500);\n    return () => clearTimeout(timeout);\n  }, [copyFeedback]);\n  const fetchOrders = async () => {\n    try {\n      const response = await ordersAPI.getOrders();\n      setOrders(response.data.data);\n    } catch (error) {\n      setError('Failed to load orders');\n      console.error('Error fetching orders:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getStatusVariant = status => {\n    const variants = {\n      pending: 'warning',\n      confirmed: 'info',\n      processing: 'primary',\n      shipped: 'secondary',\n      delivered: 'success',\n      cancelled: 'danger',\n      returned: 'dark'\n    };\n    return variants[status] || 'secondary';\n  };\n  const getPaymentStatusVariant = status => {\n    const variants = {\n      pending: 'warning',\n      processing: 'info',\n      completed: 'success',\n      failed: 'danger',\n      refunded: 'dark',\n      cancelled: 'secondary'\n    };\n    return variants[status] || 'secondary';\n  };\n  const filteredOrders = orders.filter(order => {\n    if (filter === 'all') return true;\n    return order.status === filter;\n  });\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const formatDateOnly = dateString => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n  const openTrackingModal = order => {\n    setTrackingOrder(order);\n    setShowTrackingModal(true);\n    setCopyFeedback('');\n  };\n  const closeTrackingModal = () => {\n    setShowTrackingModal(false);\n    setTrackingOrder(null);\n    setCopyFeedback('');\n  };\n  const handleCopyTrackingNumber = async trackingNumber => {\n    if (!trackingNumber) return;\n    try {\n      if (typeof navigator !== 'undefined' && navigator.clipboard && navigator.clipboard.writeText) {\n        await navigator.clipboard.writeText(trackingNumber);\n        setCopyFeedback('Tracking number copied!');\n      } else {\n        throw new Error('Clipboard API not available');\n      }\n    } catch (err) {\n      console.warn('Clipboard copy failed, falling back to prompt.', err);\n      window.prompt('Copy the tracking number:', trackingNumber);\n      setCopyFeedback('Copied manually.');\n    }\n  };\n  const buildTrackingDetails = order => {\n    if (!order) {\n      return {\n        steps: [],\n        currentIndex: -1\n      };\n    }\n    const steps = [{\n      key: 'pending',\n      label: 'Order Placed',\n      description: 'We received your order and sent a confirmation email.'\n    }, {\n      key: 'confirmed',\n      label: 'Order Confirmed',\n      description: 'A seller confirmed item availability.'\n    }, {\n      key: 'processing',\n      label: 'Preparing Order',\n      description: 'Items are being packaged for shipment.'\n    }, {\n      key: 'shipped',\n      label: 'Shipped',\n      description: 'Your package is on the way to the delivery address.'\n    }, {\n      key: 'delivered',\n      label: 'Delivered',\n      description: 'The package arrived at its destination.'\n    }];\n    if (order.status === 'cancelled') {\n      steps.push({\n        key: 'cancelled',\n        label: 'Order Cancelled',\n        description: order.cancellationReason || 'The order was cancelled.',\n        variant: 'danger'\n      });\n    } else if (order.status === 'returned') {\n      steps.push({\n        key: 'returned',\n        label: 'Return Completed',\n        description: order.returnReason || 'The order was returned and processed.',\n        variant: 'warning'\n      });\n    }\n    const currentIndex = steps.findIndex(step => step.key === order.status);\n    const effectiveIndex = currentIndex >= 0 ? currentIndex : steps.findIndex(step => step.key === 'delivered');\n    const decoratedSteps = steps.map((step, index) => {\n      let state = 'upcoming';\n      if (effectiveIndex < 0) {\n        state = index === 0 ? 'current' : 'upcoming';\n      } else if (index < effectiveIndex) {\n        state = 'completed';\n      } else if (index === effectiveIndex) {\n        state = order.status === 'cancelled' ? 'cancelled' : order.status === 'returned' ? 'returned' : 'current';\n      }\n      return {\n        ...step,\n        state\n      };\n    });\n    return {\n      steps: decoratedSteps,\n      currentIndex: effectiveIndex\n    };\n  };\n  const renderStepIcon = step => {\n    if (step.state === 'cancelled') {\n      return /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-ban text-danger me-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 14\n      }, this);\n    }\n    if (step.state === 'returned') {\n      return /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-undo text-warning me-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 14\n      }, this);\n    }\n    if (step.state === 'completed') {\n      return /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-check-circle text-success me-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 14\n      }, this);\n    }\n    if (step.state === 'current') {\n      return /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-dot-circle text-primary me-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"far fa-circle text-muted me-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 12\n    }, this);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n    message: \"Loading your orders...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"py-4\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between align-items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"My Orders\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n            style: {\n              width: '200px'\n            },\n            value: filter,\n            onChange: e => setFilter(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"All Orders\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"pending\",\n              children: \"Pending\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"confirmed\",\n              children: \"Confirmed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"processing\",\n              children: \"Processing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"shipped\",\n              children: \"Shipped\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"delivered\",\n              children: \"Delivered\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cancelled\",\n              children: \"Cancelled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(Message, {\n          variant: \"danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 21\n        }, this), filteredOrders.length === 0 ? /*#__PURE__*/_jsxDEV(Message, {\n          variant: \"info\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-box-open fa-3x text-muted mb-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"No orders found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted\",\n              children: filter === 'all' ? \"You haven't placed any orders yet.\" : `No ${filter} orders found.`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              as: Link,\n              to: \"/products\",\n              variant: \"primary\",\n              children: \"Start Shopping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            className: \"p-0\",\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              responsive: true,\n              hover: true,\n              className: \"mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-light\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Order #\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Items\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Payment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: filteredOrders.map(order => {\n                  var _order$paymentMethod;\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: order.orderNumber\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 264,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"small\", {\n                        children: formatDate(order.createdAt)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 267,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 266,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [order.items.slice(0, 2).map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"d-flex align-items-center mb-1\",\n                          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                            src: item.image,\n                            alt: item.name.en,\n                            className: \"rounded me-2\",\n                            style: {\n                              width: '30px',\n                              height: '30px',\n                              objectFit: 'cover'\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 273,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"text-truncate\",\n                            style: {\n                              maxWidth: '150px'\n                            },\n                            children: item.name.en\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 279,\n                            columnNumber: 33\n                          }, this), item.quantity > 1 && /*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"text-muted ms-1\",\n                            children: [\"x\", item.quantity]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 283,\n                            columnNumber: 35\n                          }, this)]\n                        }, index, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 272,\n                          columnNumber: 31\n                        }, this)), order.items.length > 2 && /*#__PURE__*/_jsxDEV(\"small\", {\n                          className: \"text-muted\",\n                          children: [\"+\", order.items.length - 2, \" more items\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 288,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 270,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 269,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: formatPrice(order.totalAmount)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 295,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [/*#__PURE__*/_jsxDEV(Badge, {\n                        bg: getStatusVariant(order.status),\n                        children: order.status.replace('_', ' ').toUpperCase()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 298,\n                        columnNumber: 27\n                      }, this), order.trackingNumber && /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"small\", {\n                          className: \"text-muted\",\n                          children: [\"Track: \", order.trackingNumber]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 303,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 302,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [/*#__PURE__*/_jsxDEV(Badge, {\n                        bg: getPaymentStatusVariant(order.paymentStatus),\n                        children: order.paymentStatus.replace('_', ' ').toUpperCase()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"small\", {\n                          className: \"text-muted text-capitalize\",\n                          children: (_order$paymentMethod = order.paymentMethod) === null || _order$paymentMethod === void 0 ? void 0 : _order$paymentMethod.replace('_', ' ')\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 314,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 313,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"d-flex gap-2\",\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          as: Link,\n                          to: `/order/${order._id}`,\n                          variant: \"outline-primary\",\n                          size: \"sm\",\n                          children: \"View\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 321,\n                          columnNumber: 29\n                        }, this), order.trackingNumber && /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outline-secondary\",\n                          size: \"sm\",\n                          onClick: () => openTrackingModal(order),\n                          children: \"Track Package\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 330,\n                          columnNumber: 31\n                        }, this), order.status === 'pending' && /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outline-danger\",\n                          size: \"sm\",\n                          onClick: async () => {\n                            if (window.confirm('Are you sure you want to cancel this order?')) {\n                              try {\n                                await ordersAPI.cancelOrder(order._id, 'Cancelled by customer');\n                                fetchOrders(); // Refresh orders\n                              } catch (error) {\n                                alert('Failed to cancel order');\n                              }\n                            }\n                          },\n                          children: \"Cancel\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 339,\n                          columnNumber: 31\n                        }, this), order.status === 'delivered' && /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outline-success\",\n                          size: \"sm\",\n                          onClick: () => {\n                            // Implement reorder functionality\n                            alert('Reorder functionality coming soon!');\n                          },\n                          children: \"Reorder\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 357,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 320,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 25\n                    }, this)]\n                  }, order._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 23\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this), orders.length > 0 && /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: orders.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-muted mb-0\",\n                  children: \"Total Orders\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-success\",\n                  children: orders.filter(o => o.status === 'delivered').length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-muted mb-0\",\n                  children: \"Delivered\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-primary\",\n                  children: orders.filter(o => ['pending', 'confirmed', 'processing'].includes(o.status)).length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-muted mb-0\",\n                  children: \"In Progress\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-danger\",\n                  children: orders.filter(o => o.status === 'cancelled').length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-muted mb-0\",\n                  children: \"Cancelled\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showTrackingModal,\n      onHide: closeTrackingModal,\n      centered: true,\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Track Shipment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: trackingOrder && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-muted mb-1\",\n                children: \"Tracking Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex align-items-center gap-2 flex-wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"mb-0\",\n                  children: trackingOrder.trackingNumber\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-secondary\",\n                  size: \"sm\",\n                  onClick: () => handleCopyTrackingNumber(trackingOrder.trackingNumber),\n                  children: \"Copy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 21\n                }, this), copyFeedback && /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-success\",\n                  children: copyFeedback\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-muted mb-1\",\n                children: \"Carrier\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: trackingOrder.carrier || 'Not provided'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-muted mb-1\",\n                children: \"Shipping Method\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-capitalize\",\n                children: trackingOrder.shippingMethod || 'Standard'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-muted mb-1\",\n                children: \"Order Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                bg: getStatusVariant(trackingOrder.status),\n                children: trackingOrder.status.replace('_', ' ').toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-muted mb-1\",\n                children: \"Placed On\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: formatDateOnly(trackingOrder.createdAt)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-muted mb-1\",\n                children: \"Estimated Delivery\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: trackingOrder.estimatedDelivery ? formatDateOnly(trackingOrder.estimatedDelivery) : 'Pending update'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 15\n          }, this), (() => {\n            const {\n              steps,\n              currentIndex\n            } = buildTrackingDetails(trackingOrder);\n            const progressPercent = steps.length ? Math.min(100, Math.round((currentIndex >= 0 ? currentIndex + 1 : 1) / steps.length * 100)) : 0;\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(ProgressBar, {\n                  now: progressPercent,\n                  label: `${progressPercent}%`,\n                  visuallyHidden: progressPercent === 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 23\n                }, this), progressPercent === 0 && /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: \"Tracking updates will appear once your order is processed.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n                variant: \"flush\",\n                children: steps.map(step => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  className: \"d-flex align-items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"me-2 mt-1\",\n                    children: renderStepIcon(step)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-semibold d-flex align-items-center gap-2\",\n                      children: [step.label, step.state === 'cancelled' && /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"danger\",\n                        children: \"Cancelled\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 503,\n                        columnNumber: 33\n                      }, this), step.state === 'returned' && /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"warning\",\n                        text: \"dark\",\n                        children: \"Returned\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 506,\n                        columnNumber: 33\n                      }, this), step.state === 'current' && step.key !== 'delivered' && step.key !== 'shipped' && /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"primary\",\n                        children: \"In Progress\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 509,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 500,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: step.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 512,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 27\n                  }, this)]\n                }, step.key, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true);\n          })()]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: closeTrackingModal,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 5\n  }, this);\n};\n_s(OrdersPage, \"I8OpNY5WMMNLxXhJt6NkBHz+pSg=\", false, function () {\n  return [useApp];\n});\n_c = OrdersPage;\nexport default OrdersPage;\nvar _c;\n$RefreshReg$(_c, \"OrdersPage\");","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Table","Badge","Button","Form","Modal","ListGroup","ProgressBar","Link","ordersAPI","useApp","LoadingSpinner","Message","jsxDEV","_jsxDEV","Fragment","_Fragment","OrdersPage","_s","orders","setOrders","loading","setLoading","error","setError","filter","setFilter","trackingOrder","setTrackingOrder","showTrackingModal","setShowTrackingModal","copyFeedback","setCopyFeedback","formatPrice","fetchOrders","undefined","timeout","setTimeout","clearTimeout","response","getOrders","data","console","getStatusVariant","status","variants","pending","confirmed","processing","shipped","delivered","cancelled","returned","getPaymentStatusVariant","completed","failed","refunded","filteredOrders","order","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","formatDateOnly","openTrackingModal","closeTrackingModal","handleCopyTrackingNumber","trackingNumber","navigator","clipboard","writeText","Error","err","warn","window","prompt","buildTrackingDetails","steps","currentIndex","key","label","description","push","cancellationReason","variant","returnReason","findIndex","step","effectiveIndex","decoratedSteps","map","index","state","renderStepIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","message","children","Select","style","width","value","onChange","e","target","length","as","to","Body","responsive","hover","_order$paymentMethod","orderNumber","createdAt","items","slice","item","src","image","alt","name","en","height","objectFit","maxWidth","quantity","totalAmount","bg","replace","toUpperCase","paymentStatus","paymentMethod","_id","size","onClick","confirm","cancelOrder","alert","md","o","includes","show","onHide","centered","Header","closeButton","Title","carrier","shippingMethod","estimatedDelivery","progressPercent","Math","min","round","now","visuallyHidden","Item","text","Footer","_c","$RefreshReg$"],"sources":["C:/my project/final project/ethio-ecommerce/ethio-ecommerce-frontend/src/pages/OrdersPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, Card, Table, Badge, Button, Form, Modal, ListGroup, ProgressBar } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { ordersAPI } from '../services/api';\r\nimport { useApp } from '../contexts/AppContext';\r\nimport LoadingSpinner from '../components/common/LoadingSpinner';\r\nimport Message from '../components/common/Message';\r\n\r\nconst OrdersPage = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [filter, setFilter] = useState('all');\r\n  const [trackingOrder, setTrackingOrder] = useState(null);\r\n  const [showTrackingModal, setShowTrackingModal] = useState(false);\r\n  const [copyFeedback, setCopyFeedback] = useState('');\r\n\r\n  const { formatPrice } = useApp();\r\n\r\n  useEffect(() => {\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!copyFeedback) return undefined;\r\n    const timeout = setTimeout(() => setCopyFeedback(''), 2500);\r\n    return () => clearTimeout(timeout);\r\n  }, [copyFeedback]);\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      const response = await ordersAPI.getOrders();\r\n      setOrders(response.data.data);\r\n    } catch (error) {\r\n      setError('Failed to load orders');\r\n      console.error('Error fetching orders:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusVariant = (status) => {\r\n    const variants = {\r\n      pending: 'warning',\r\n      confirmed: 'info',\r\n      processing: 'primary',\r\n      shipped: 'secondary',\r\n      delivered: 'success',\r\n      cancelled: 'danger',\r\n      returned: 'dark'\r\n    };\r\n    return variants[status] || 'secondary';\r\n  };\r\n\r\n  const getPaymentStatusVariant = (status) => {\r\n    const variants = {\r\n      pending: 'warning',\r\n      processing: 'info',\r\n      completed: 'success',\r\n      failed: 'danger',\r\n      refunded: 'dark',\r\n      cancelled: 'secondary'\r\n    };\r\n    return variants[status] || 'secondary';\r\n  };\r\n\r\n  const filteredOrders = orders.filter(order => {\r\n    if (filter === 'all') return true;\r\n    return order.status === filter;\r\n  });\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const formatDateOnly = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  const openTrackingModal = (order) => {\r\n    setTrackingOrder(order);\r\n    setShowTrackingModal(true);\r\n    setCopyFeedback('');\r\n  };\r\n\r\n  const closeTrackingModal = () => {\r\n    setShowTrackingModal(false);\r\n    setTrackingOrder(null);\r\n    setCopyFeedback('');\r\n  };\r\n\r\n  const handleCopyTrackingNumber = async (trackingNumber) => {\r\n    if (!trackingNumber) return;\r\n\r\n    try {\r\n      if (typeof navigator !== 'undefined' && navigator.clipboard && navigator.clipboard.writeText) {\r\n        await navigator.clipboard.writeText(trackingNumber);\r\n        setCopyFeedback('Tracking number copied!');\r\n      } else {\r\n        throw new Error('Clipboard API not available');\r\n      }\r\n    } catch (err) {\r\n      console.warn('Clipboard copy failed, falling back to prompt.', err);\r\n      window.prompt('Copy the tracking number:', trackingNumber);\r\n      setCopyFeedback('Copied manually.');\r\n    }\r\n  };\r\n\r\n  const buildTrackingDetails = (order) => {\r\n    if (!order) {\r\n      return { steps: [], currentIndex: -1 };\r\n    }\r\n\r\n    const steps = [\r\n      {\r\n        key: 'pending',\r\n        label: 'Order Placed',\r\n        description: 'We received your order and sent a confirmation email.'\r\n      },\r\n      {\r\n        key: 'confirmed',\r\n        label: 'Order Confirmed',\r\n        description: 'A seller confirmed item availability.'\r\n      },\r\n      {\r\n        key: 'processing',\r\n        label: 'Preparing Order',\r\n        description: 'Items are being packaged for shipment.'\r\n      },\r\n      {\r\n        key: 'shipped',\r\n        label: 'Shipped',\r\n        description: 'Your package is on the way to the delivery address.'\r\n      },\r\n      {\r\n        key: 'delivered',\r\n        label: 'Delivered',\r\n        description: 'The package arrived at its destination.'\r\n      }\r\n    ];\r\n\r\n    if (order.status === 'cancelled') {\r\n      steps.push({\r\n        key: 'cancelled',\r\n        label: 'Order Cancelled',\r\n        description: order.cancellationReason || 'The order was cancelled.',\r\n        variant: 'danger'\r\n      });\r\n    } else if (order.status === 'returned') {\r\n      steps.push({\r\n        key: 'returned',\r\n        label: 'Return Completed',\r\n        description: order.returnReason || 'The order was returned and processed.',\r\n        variant: 'warning'\r\n      });\r\n    }\r\n\r\n    const currentIndex = steps.findIndex(step => step.key === order.status);\r\n    const effectiveIndex = currentIndex >= 0 ? currentIndex : steps.findIndex(step => step.key === 'delivered');\r\n\r\n    const decoratedSteps = steps.map((step, index) => {\r\n      let state = 'upcoming';\r\n      if (effectiveIndex < 0) {\r\n        state = index === 0 ? 'current' : 'upcoming';\r\n      } else if (index < effectiveIndex) {\r\n        state = 'completed';\r\n      } else if (index === effectiveIndex) {\r\n        state = order.status === 'cancelled' ? 'cancelled' : order.status === 'returned' ? 'returned' : 'current';\r\n      }\r\n      return {\r\n        ...step,\r\n        state\r\n      };\r\n    });\r\n\r\n    return { steps: decoratedSteps, currentIndex: effectiveIndex };\r\n  };\r\n\r\n  const renderStepIcon = (step) => {\r\n    if (step.state === 'cancelled') {\r\n      return <i className=\"fas fa-ban text-danger me-2\"></i>;\r\n    }\r\n    if (step.state === 'returned') {\r\n      return <i className=\"fas fa-undo text-warning me-2\"></i>;\r\n    }\r\n    if (step.state === 'completed') {\r\n      return <i className=\"fas fa-check-circle text-success me-2\"></i>;\r\n    }\r\n    if (step.state === 'current') {\r\n      return <i className=\"fas fa-dot-circle text-primary me-2\"></i>;\r\n    }\r\n    return <i className=\"far fa-circle text-muted me-2\"></i>;\r\n  };\r\n\r\n  if (loading) return <LoadingSpinner message=\"Loading your orders...\" />;\r\n\r\n  return (\r\n    <Container className=\"py-4\">\r\n      <Row>\r\n        <Col>\r\n          <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n            <h1>My Orders</h1>\r\n            <Form.Select \r\n              style={{ width: '200px' }}\r\n              value={filter}\r\n              onChange={(e) => setFilter(e.target.value)}\r\n            >\r\n              <option value=\"all\">All Orders</option>\r\n              <option value=\"pending\">Pending</option>\r\n              <option value=\"confirmed\">Confirmed</option>\r\n              <option value=\"processing\">Processing</option>\r\n              <option value=\"shipped\">Shipped</option>\r\n              <option value=\"delivered\">Delivered</option>\r\n              <option value=\"cancelled\">Cancelled</option>\r\n            </Form.Select>\r\n          </div>\r\n\r\n          {error && <Message variant=\"danger\">{error}</Message>}\r\n\r\n          {filteredOrders.length === 0 ? (\r\n            <Message variant=\"info\">\r\n              <div className=\"text-center py-4\">\r\n                <i className=\"fas fa-box-open fa-3x text-muted mb-3\"></i>\r\n                <h4>No orders found</h4>\r\n                <p className=\"text-muted\">\r\n                  {filter === 'all' \r\n                    ? \"You haven't placed any orders yet.\" \r\n                    : `No ${filter} orders found.`}\r\n                </p>\r\n                <Button as={Link} to=\"/products\" variant=\"primary\">\r\n                  Start Shopping\r\n                </Button>\r\n              </div>\r\n            </Message>\r\n          ) : (\r\n            <Card>\r\n              <Card.Body className=\"p-0\">\r\n                <Table responsive hover className=\"mb-0\">\r\n                  <thead className=\"bg-light\">\r\n                    <tr>\r\n                      <th>Order #</th>\r\n                      <th>Date</th>\r\n                      <th>Items</th>\r\n                      <th>Total</th>\r\n                      <th>Status</th>\r\n                      <th>Payment</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {filteredOrders.map(order => (\r\n                      <tr key={order._id}>\r\n                        <td>\r\n                          <strong>{order.orderNumber}</strong>\r\n                        </td>\r\n                        <td>\r\n                          <small>{formatDate(order.createdAt)}</small>\r\n                        </td>\r\n                        <td>\r\n                          <div>\r\n                            {order.items.slice(0, 2).map((item, index) => (\r\n                              <div key={index} className=\"d-flex align-items-center mb-1\">\r\n                                <img \r\n                                  src={item.image} \r\n                                  alt={item.name.en}\r\n                                  className=\"rounded me-2\"\r\n                                  style={{ width: '30px', height: '30px', objectFit: 'cover' }}\r\n                                />\r\n                                <small className=\"text-truncate\" style={{ maxWidth: '150px' }}>\r\n                                  {item.name.en}\r\n                                </small>\r\n                                {item.quantity > 1 && (\r\n                                  <small className=\"text-muted ms-1\">x{item.quantity}</small>\r\n                                )}\r\n                              </div>\r\n                            ))}\r\n                            {order.items.length > 2 && (\r\n                              <small className=\"text-muted\">\r\n                                +{order.items.length - 2} more items\r\n                              </small>\r\n                            )}\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <strong>{formatPrice(order.totalAmount)}</strong>\r\n                        </td>\r\n                        <td>\r\n                          <Badge bg={getStatusVariant(order.status)}>\r\n                            {order.status.replace('_', ' ').toUpperCase()}\r\n                          </Badge>\r\n                          {order.trackingNumber && (\r\n                            <div>\r\n                              <small className=\"text-muted\">\r\n                                Track: {order.trackingNumber}\r\n                              </small>\r\n                            </div>\r\n                          )}\r\n                        </td>\r\n                        <td>\r\n                          <Badge bg={getPaymentStatusVariant(order.paymentStatus)}>\r\n                            {order.paymentStatus.replace('_', ' ').toUpperCase()}\r\n                          </Badge>\r\n                          <div>\r\n                            <small className=\"text-muted text-capitalize\">\r\n                              {order.paymentMethod?.replace('_', ' ')}\r\n                            </small>\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"d-flex gap-2\">\r\n                            <Button\r\n                              as={Link}\r\n                              to={`/order/${order._id}`}\r\n                              variant=\"outline-primary\"\r\n                              size=\"sm\"\r\n                            >\r\n                              View\r\n                            </Button>\r\n                            {order.trackingNumber && (\r\n                              <Button\r\n                                variant=\"outline-secondary\"\r\n                                size=\"sm\"\r\n                                onClick={() => openTrackingModal(order)}\r\n                              >\r\n                                Track Package\r\n                              </Button>\r\n                            )}\r\n                            {order.status === 'pending' && (\r\n                              <Button\r\n                                variant=\"outline-danger\"\r\n                                size=\"sm\"\r\n                                onClick={async () => {\r\n                                  if (window.confirm('Are you sure you want to cancel this order?')) {\r\n                                    try {\r\n                                      await ordersAPI.cancelOrder(order._id, 'Cancelled by customer');\r\n                                      fetchOrders(); // Refresh orders\r\n                                    } catch (error) {\r\n                                      alert('Failed to cancel order');\r\n                                    }\r\n                                  }\r\n                                }}\r\n                              >\r\n                                Cancel\r\n                              </Button>\r\n                            )}\r\n                            {order.status === 'delivered' && (\r\n                              <Button\r\n                                variant=\"outline-success\"\r\n                                size=\"sm\"\r\n                                onClick={() => {\r\n                                  // Implement reorder functionality\r\n                                  alert('Reorder functionality coming soon!');\r\n                                }}\r\n                              >\r\n                                Reorder\r\n                              </Button>\r\n                            )}\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n              </Card.Body>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Order Statistics */}\r\n          {orders.length > 0 && (\r\n            <Row className=\"mt-4\">\r\n              <Col md={3}>\r\n                <Card className=\"text-center\">\r\n                  <Card.Body>\r\n                    <h3>{orders.length}</h3>\r\n                    <p className=\"text-muted mb-0\">Total Orders</p>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n              <Col md={3}>\r\n                <Card className=\"text-center\">\r\n                  <Card.Body>\r\n                    <h3 className=\"text-success\">\r\n                      {orders.filter(o => o.status === 'delivered').length}\r\n                    </h3>\r\n                    <p className=\"text-muted mb-0\">Delivered</p>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n              <Col md={3}>\r\n                <Card className=\"text-center\">\r\n                  <Card.Body>\r\n                    <h3 className=\"text-primary\">\r\n                      {orders.filter(o => ['pending', 'confirmed', 'processing'].includes(o.status)).length}\r\n                    </h3>\r\n                    <p className=\"text-muted mb-0\">In Progress</p>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n              <Col md={3}>\r\n                <Card className=\"text-center\">\r\n                  <Card.Body>\r\n                    <h3 className=\"text-danger\">\r\n                      {orders.filter(o => o.status === 'cancelled').length}\r\n                    </h3>\r\n                    <p className=\"text-muted mb-0\">Cancelled</p>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n\r\n      <Modal show={showTrackingModal} onHide={closeTrackingModal} centered size=\"lg\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Track Shipment</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {trackingOrder && (\r\n            <>\r\n              <Row className=\"mb-3\">\r\n                <Col md={6} className=\"mb-3\">\r\n                  <p className=\"text-muted mb-1\">Tracking Number</p>\r\n                  <div className=\"d-flex align-items-center gap-2 flex-wrap\">\r\n                    <h5 className=\"mb-0\">{trackingOrder.trackingNumber}</h5>\r\n                    <Button\r\n                      variant=\"outline-secondary\"\r\n                      size=\"sm\"\r\n                      onClick={() => handleCopyTrackingNumber(trackingOrder.trackingNumber)}\r\n                    >\r\n                      Copy\r\n                    </Button>\r\n                    {copyFeedback && (\r\n                      <small className=\"text-success\">{copyFeedback}</small>\r\n                    )}\r\n                  </div>\r\n                </Col>\r\n                <Col md={3} className=\"mb-3\">\r\n                  <p className=\"text-muted mb-1\">Carrier</p>\r\n                  <div>{trackingOrder.carrier || 'Not provided'}</div>\r\n                </Col>\r\n                <Col md={3} className=\"mb-3\">\r\n                  <p className=\"text-muted mb-1\">Shipping Method</p>\r\n                  <div className=\"text-capitalize\">{trackingOrder.shippingMethod || 'Standard'}</div>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row className=\"mb-3\">\r\n                <Col md={4} className=\"mb-3\">\r\n                  <p className=\"text-muted mb-1\">Order Status</p>\r\n                  <Badge bg={getStatusVariant(trackingOrder.status)}>\r\n                    {trackingOrder.status.replace('_', ' ').toUpperCase()}\r\n                  </Badge>\r\n                </Col>\r\n                <Col md={4} className=\"mb-3\">\r\n                  <p className=\"text-muted mb-1\">Placed On</p>\r\n                  <div>{formatDateOnly(trackingOrder.createdAt)}</div>\r\n                </Col>\r\n                <Col md={4} className=\"mb-3\">\r\n                  <p className=\"text-muted mb-1\">Estimated Delivery</p>\r\n                  <div>\r\n                    {trackingOrder.estimatedDelivery\r\n                      ? formatDateOnly(trackingOrder.estimatedDelivery)\r\n                      : 'Pending update'}\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n\r\n              {(() => {\r\n                const { steps, currentIndex } = buildTrackingDetails(trackingOrder);\r\n                const progressPercent = steps.length\r\n                  ? Math.min(100, Math.round(((currentIndex >= 0 ? currentIndex + 1 : 1) / steps.length) * 100))\r\n                  : 0;\r\n\r\n                return (\r\n                  <>\r\n                    <div className=\"mb-3\">\r\n                      <ProgressBar now={progressPercent} label={`${progressPercent}%`} visuallyHidden={progressPercent === 0} />\r\n                      {progressPercent === 0 && (\r\n                        <small className=\"text-muted\">Tracking updates will appear once your order is processed.</small>\r\n                      )}\r\n                    </div>\r\n                    <ListGroup variant=\"flush\">\r\n                      {steps.map(step => (\r\n                        <ListGroup.Item key={step.key} className=\"d-flex align-items-start\">\r\n                          <div className=\"me-2 mt-1\">\r\n                            {renderStepIcon(step)}\r\n                          </div>\r\n                          <div>\r\n                            <div className=\"fw-semibold d-flex align-items-center gap-2\">\r\n                              {step.label}\r\n                              {step.state === 'cancelled' && (\r\n                                <Badge bg=\"danger\">Cancelled</Badge>\r\n                              )}\r\n                              {step.state === 'returned' && (\r\n                                <Badge bg=\"warning\" text=\"dark\">Returned</Badge>\r\n                              )}\r\n                              {step.state === 'current' && step.key !== 'delivered' && step.key !== 'shipped' && (\r\n                                <Badge bg=\"primary\">In Progress</Badge>\r\n                              )}\r\n                            </div>\r\n                            <small className=\"text-muted\">{step.description}</small>\r\n                          </div>\r\n                        </ListGroup.Item>\r\n                      ))}\r\n                    </ListGroup>\r\n                  </>\r\n                );\r\n              })()}\r\n            </>\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={closeTrackingModal}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default OrdersPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}