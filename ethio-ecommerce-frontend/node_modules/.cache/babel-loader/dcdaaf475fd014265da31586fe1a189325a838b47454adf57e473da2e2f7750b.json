{"ast":null,"code":"var _jsxFileName = \"C:\\\\my project\\\\final project\\\\ethio-ecommerce\\\\ethio-ecommerce-frontend\\\\src\\\\pages\\\\admin\\\\AdminProductsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Container, Row, Col, Card, Table, Badge, Button, Form, Modal, Alert } from 'react-bootstrap';\nimport { Link, useLocation } from 'react-router-dom';\nimport { productsAPI, categoriesAPI } from '../../services/api';\nimport { useApp } from '../../contexts/AppContext';\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiBaseUrl = (process.env.REACT_APP_API_URL || 'http://localhost:5000/api').trim();\nconst resolveAssetBaseUrl = () => {\n  const envAsset = (process.env.REACT_APP_ASSET_BASE_URL || '').trim();\n  if (envAsset) {\n    return envAsset;\n  }\n  if (apiBaseUrl) {\n    return apiBaseUrl.replace(/\\/api\\/?$/, '');\n  }\n  if (typeof window !== 'undefined') {\n    return `${window.location.protocol}//${window.location.hostname}:5000`;\n  }\n  return '';\n};\nconst assetBaseUrl = resolveAssetBaseUrl();\nconst fallbackImageUrl = 'https://via.placeholder.com/60?text=No+Image';\nconst AdminProductsPage = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [filter, setFilter] = useState('all');\n  const [showModal, setShowModal] = useState(false);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [imageFile, setImageFile] = useState(null);\n  const [formData, setFormData] = useState({\n    name: {\n      en: '',\n      am: ''\n    },\n    description: {\n      en: '',\n      am: ''\n    },\n    price: '',\n    originalPrice: '',\n    category: '',\n    stock: '',\n    brand: '',\n    location: {\n      region: 'Addis Ababa',\n      city: ''\n    },\n    weight: {\n      value: '',\n      unit: 'g'\n    },\n    tags: '',\n    shipping: {\n      freeShipping: false,\n      shippingCost: '0'\n    }\n  });\n  const {\n    ethiopianRegions,\n    language\n  } = useApp();\n\n  // Safe localization helper: accepts either a localized map {en,am} or a plain string\n  const getLocalized = obj => {\n    if (!obj) return '';\n    if (typeof obj === 'string') return obj;\n    if (typeof obj === 'object') return obj[language] || obj.en || Object.values(obj)[0] || '';\n    return '';\n  };\n  const fetchProducts = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await productsAPI.getProducts({\n        limit: 100\n      });\n      let filteredProducts = response.data.data;\n      if (filter !== 'all') {\n        if (filter === 'low-stock') {\n          filteredProducts = filteredProducts.filter(product => product.stock < 10);\n        } else if (filter === 'out-of-stock') {\n          filteredProducts = filteredProducts.filter(product => product.stock === 0);\n        } else if (filter === 'inactive') {\n          filteredProducts = filteredProducts.filter(product => product.status === 'inactive');\n        }\n      }\n      setProducts(filteredProducts);\n    } catch (error) {\n      setError('Failed to load products');\n      console.error('Error fetching products:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, [filter]);\n  const fetchCategories = useCallback(async () => {\n    try {\n      const list = await categoriesAPI.getCategoriesList();\n      console.debug('AdminProductsPage: fetched categories (normalized)', list);\n      setCategories(list);\n      return list;\n    } catch (error) {\n      console.error('Error fetching categories:', error);\n      return [];\n    }\n  }, []);\n  useEffect(() => {\n    fetchProducts();\n    fetchCategories();\n  }, [fetchProducts, fetchCategories]);\n\n  // If the admin opens the \"new product\" route directly (e.g. /admin/products/new)\n  // automatically open the Create Product modal so the user sees the form.\n  const location = useLocation();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    // Auto-open modal when visiting /admin/products/new. Do not depend on\n    // `handleCreateClick` to avoid stale-deps lint warnings; inline the\n    // minimal logic here.\n    (async () => {\n      try {\n        if (location && location.pathname && location.pathname.endsWith('/new')) {\n          setEditingProduct(null);\n          setFormData({\n            name: {\n              en: '',\n              am: ''\n            },\n            description: {\n              en: '',\n              am: ''\n            },\n            price: '',\n            originalPrice: '',\n            category: '',\n            stock: '',\n            brand: '',\n            location: {\n              region: 'Addis Ababa',\n              city: ''\n            },\n            weight: {\n              value: '',\n              unit: 'g'\n            },\n            tags: '',\n            shipping: {\n              freeShipping: false,\n              shippingCost: '0'\n            }\n          });\n          if (!categories || categories.length === 0) {\n            await fetchCategories();\n          }\n          setShowModal(true);\n        }\n      } catch (err) {\n        console.warn('Could not auto-open new product modal', err);\n      }\n    })();\n    // We only want to run this when pathname changes\n  }, [categories, fetchCategories, location]);\n  const handleCreateClick = async () => {\n    setEditingProduct(null);\n    setFormData({\n      name: {\n        en: '',\n        am: ''\n      },\n      description: {\n        en: '',\n        am: ''\n      },\n      price: '',\n      originalPrice: '',\n      category: '',\n      stock: '',\n      brand: '',\n      location: {\n        region: 'Addis Ababa',\n        city: ''\n      },\n      weight: {\n        value: '',\n        unit: 'g'\n      },\n      tags: '',\n      shipping: {\n        freeShipping: false,\n        shippingCost: '0'\n      }\n    });\n    setImageFile(null);\n    // Ensure categories are loaded before showing the modal so the Category select\n    // has options available immediately.\n    try {\n      if (!categories || categories.length === 0) {\n        await fetchCategories();\n      }\n    } catch (err) {\n      console.warn('Failed to fetch categories before opening modal', err);\n    }\n    setShowModal(true);\n  };\n  const handleEditClick = product => {\n    var _product$category, _product$tags;\n    setEditingProduct(product);\n    setFormData({\n      name: product.name,\n      description: product.description,\n      price: product.price,\n      originalPrice: product.originalPrice || '',\n      category: ((_product$category = product.category) === null || _product$category === void 0 ? void 0 : _product$category._id) || '',\n      stock: product.stock,\n      brand: product.brand || '',\n      location: product.location,\n      weight: product.weight || {\n        value: '',\n        unit: 'g'\n      },\n      tags: ((_product$tags = product.tags) === null || _product$tags === void 0 ? void 0 : _product$tags.join(', ')) || '',\n      shipping: product.shipping || {\n        freeShipping: false,\n        shippingCost: '0'\n      }\n    });\n    setImageFile(null);\n    // Ensure categories are available so the product's category can be selected\n    // in the dropdown when editing.\n    if (!categories || categories.length === 0) {\n      fetchCategories().catch(err => console.warn('Failed to fetch categories', err));\n    }\n    setShowModal(true);\n  };\n  const handleModalClose = () => {\n    setShowModal(false);\n    setImageFile(null);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const submitData = {\n        ...formData,\n        tags: formData.tags.split(',').map(tag => tag.trim()).filter(tag => tag),\n        price: parseFloat(formData.price),\n        stock: parseInt(formData.stock),\n        originalPrice: formData.originalPrice ? parseFloat(formData.originalPrice) : undefined,\n        shipping: {\n          ...formData.shipping,\n          shippingCost: parseFloat(formData.shipping.shippingCost)\n        }\n      };\n      let productId = editingProduct === null || editingProduct === void 0 ? void 0 : editingProduct._id;\n      let response;\n      if (editingProduct) {\n        response = await productsAPI.updateProduct(editingProduct._id, submitData);\n      } else {\n        var _response, _response$data, _response$data$data, _response2, _response2$data;\n        response = await productsAPI.createProduct(submitData);\n        productId = ((_response = response) === null || _response === void 0 ? void 0 : (_response$data = _response.data) === null || _response$data === void 0 ? void 0 : (_response$data$data = _response$data.data) === null || _response$data$data === void 0 ? void 0 : _response$data$data._id) || ((_response2 = response) === null || _response2 === void 0 ? void 0 : (_response2$data = _response2.data) === null || _response2$data === void 0 ? void 0 : _response2$data._id) || productId;\n      }\n      if (imageFile && productId) {\n        const uploadData = new FormData();\n        uploadData.append('file', imageFile);\n        try {\n          await productsAPI.uploadImage(productId, uploadData);\n        } catch (uploadErr) {\n          console.error('Image upload failed:', uploadErr);\n          alert('Product created but image upload failed. You can try uploading again from the edit menu.');\n        }\n      }\n      handleModalClose();\n      fetchProducts();\n    } catch (error) {\n      alert(`Failed to ${editingProduct ? 'update' : 'create'} product`);\n    }\n  };\n  const handleImageChange = event => {\n    const file = event.target.files && event.target.files[0] ? event.target.files[0] : null;\n    setImageFile(file);\n  };\n  const handleDelete = async productId => {\n    if (window.confirm('Are you sure you want to delete this product?')) {\n      try {\n        await productsAPI.deleteProduct(productId);\n        fetchProducts();\n      } catch (error) {\n        alert('Failed to delete product');\n      }\n    }\n  };\n  const handleStatusToggle = async (productId, currentStatus) => {\n    try {\n      const newStatus = currentStatus === 'active' ? 'inactive' : 'active';\n      await productsAPI.updateProduct(productId, {\n        status: newStatus\n      });\n      fetchProducts();\n    } catch (error) {\n      alert('Failed to update product status');\n    }\n  };\n  const getStockVariant = stock => {\n    if (stock === 0) return 'danger';\n    if (stock < 10) return 'warning';\n    return 'success';\n  };\n  const getStockText = stock => {\n    if (stock === 0) return 'Out of Stock';\n    if (stock < 10) return `Low (${stock})`;\n    return `In Stock (${stock})`;\n  };\n  const resolveImageUrl = product => {\n    var _product$images;\n    if (!product) return fallbackImageUrl;\n    const candidates = [(_product$images = product.images) === null || _product$images === void 0 ? void 0 : _product$images.find(img => img === null || img === void 0 ? void 0 : img.isPrimary), ...(product.images || []), product.primaryImage, product.thumbnail, product.imageUrl, product.image, product.photo];\n    const candidate = candidates.find(Boolean);\n    const url = typeof candidate === 'string' ? candidate : candidate === null || candidate === void 0 ? void 0 : candidate.url;\n    if (!url) {\n      return fallbackImageUrl;\n    }\n    if (/^https?:\\/\\//i.test(url)) {\n      return url;\n    }\n    const normalizedPath = url.startsWith('/') ? url : `/${url}`;\n    if (assetBaseUrl) {\n      const normalizedBase = assetBaseUrl.endsWith('/') ? assetBaseUrl.slice(0, -1) : assetBaseUrl;\n      return `${normalizedBase}${normalizedPath}`;\n    }\n    if (typeof window !== 'undefined') {\n      const origin = `${window.location.protocol}//${window.location.hostname}:5000`;\n      return `${origin}${normalizedPath}`;\n    }\n    return normalizedPath;\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n    message: \"Loading products...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 338,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between align-items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Product Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted mb-0\",\n          children: \"Manage your product catalog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Select, {\n          style: {\n            width: '200px'\n          },\n          value: filter,\n          onChange: e => setFilter(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All Products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"low-stock\",\n            children: \"Low Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"out-of-stock\",\n            children: \"Out of Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"inactive\",\n            children: \"Inactive\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleCreateClick,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-plus me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this), \"Add Product\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-0\",\n          children: [\"Products (\", products.length, \")\", filter !== 'all' && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-muted\",\n            children: [\" - \", filter.replace('-', ' ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        className: \"p-0\",\n        children: [/*#__PURE__*/_jsxDEV(Table, {\n          responsive: true,\n          hover: true,\n          className: \"mb-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-light\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Stock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: (products || []).map(product => {\n              var _product$category2, _product$location, _product$location2, _product$location3, _product$location4;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex align-items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: resolveImageUrl(product),\n                      alt: getLocalized(product.name) || product.sku,\n                      className: \"rounded me-3\",\n                      style: {\n                        width: '50px',\n                        height: '50px',\n                        objectFit: 'cover'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"fw-semibold\",\n                        children: getLocalized(product.name)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 399,\n                        columnNumber: 25\n                      }, this), product.name && typeof product.name === 'object' && product.name.am && /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"text-muted\",\n                        children: product.name.am\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 401,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"small\", {\n                          className: \"text-muted\",\n                          children: [\"SKU: \", product.sku]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 404,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 403,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 398,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"secondary\",\n                    children: getLocalized((_product$category2 = product.category) === null || _product$category2 === void 0 ? void 0 : _product$category2.name)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [\"ETB \", (product.price || 0).toLocaleString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 21\n                  }, this), product.originalPrice && product.originalPrice > product.price && /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted text-decoration-line-through\",\n                      children: [\"ETB \", product.originalPrice.toLocaleString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 418,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Badge, {\n                    bg: getStockVariant(product.stock),\n                    children: getStockText(product.stock)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Badge, {\n                    bg: product.status === 'active' ? 'success' : 'secondary',\n                    children: product.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [((_product$location = product.location) === null || _product$location === void 0 ? void 0 : _product$location.city) || '', (_product$location2 = product.location) !== null && _product$location2 !== void 0 && _product$location2.city && (_product$location3 = product.location) !== null && _product$location3 !== void 0 && _product$location3.region ? ', ' : '', ((_product$location4 = product.location) === null || _product$location4 === void 0 ? void 0 : _product$location4.region) || '']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      as: Link,\n                      to: `/product/${product._id}`,\n                      variant: \"outline-primary\",\n                      size: \"sm\",\n                      target: \"_blank\",\n                      children: \"View\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 441,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-secondary\",\n                      size: \"sm\",\n                      onClick: () => handleEditClick(product),\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: product.status === 'active' ? 'warning' : 'success',\n                      size: \"sm\",\n                      onClick: () => handleStatusToggle(product._id, product.status),\n                      children: product.status === 'active' ? 'Deactivate' : 'Activate'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 457,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-danger\",\n                      size: \"sm\",\n                      onClick: () => handleDelete(product._id),\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 19\n                }, this)]\n              }, product._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this), products.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-box-open fa-3x text-muted mb-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"No products found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted\",\n            children: filter === 'all' ? 'No products have been added yet.' : `No ${filter.replace('-', ' ')} products found.`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleCreateClick,\n            children: \"Add Your First Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onHide: handleModalClose,\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: editingProduct ? 'Edit Product' : 'Create New Product'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"English Name *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  value: formData.name.en,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    name: {\n                      ...prev.name,\n                      en: e.target.value\n                    }\n                  })),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Amharic Name *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  value: formData.name.am,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    name: {\n                      ...prev.name,\n                      am: e.target.value\n                    }\n                  })),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"English Description *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  as: \"textarea\",\n                  rows: 3,\n                  value: formData.description.en,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    description: {\n                      ...prev.description,\n                      en: e.target.value\n                    }\n                  })),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 538,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Amharic Description *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  as: \"textarea\",\n                  rows: 3,\n                  value: formData.description.am,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    description: {\n                      ...prev.description,\n                      am: e.target.value\n                    }\n                  })),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Price (ETB) *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 570,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"number\",\n                  step: \"0.01\",\n                  value: formData.price,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    price: e.target.value\n                  })),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Original Price (ETB)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"number\",\n                  step: \"0.01\",\n                  value: formData.originalPrice,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    originalPrice: e.target.value\n                  })),\n                  placeholder: \"For display discount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 583,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Stock *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"number\",\n                  value: formData.stock,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    stock: e.target.value\n                  })),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 595,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Product Image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 608,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  onChange: handleImageChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                  muted: true,\n                  children: \"Upload a primary product image (JPEG, PNG). You can add more images after saving.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 614,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 607,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Category *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                  value: formData.category,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    category: e.target.value\n                  })),\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select Category\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 630,\n                    columnNumber: 21\n                  }, this), (categories || []).map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: category._id || category.id,\n                    children: getLocalized(category.name) || category.code || category.title || (typeof category === 'string' ? category : '')\n                  }, category._id || category.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 632,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 19\n                }, this), (categories || []).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: \"No categories loaded \\u2014 ensure the backend is running and that GET /categories returns data.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 639,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 638,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: [\"Loaded \", (categories || []).length, \" categories.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 643,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 642,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Brand\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 650,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  value: formData.brand,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    brand: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Region *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 663,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                  value: formData.location.region,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    location: {\n                      ...prev.location,\n                      region: e.target.value\n                    }\n                  })),\n                  required: true,\n                  children: (ethiopianRegions || []).map(region => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: region,\n                    children: region\n                  }, region, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 673,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 662,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"City *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 682,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  value: formData.location.city,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    location: {\n                      ...prev.location,\n                      city: e.target.value\n                    }\n                  })),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 683,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Tags\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 699,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  value: formData.tags,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    tags: e.target.value\n                  })),\n                  placeholder: \"Separate tags with commas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 700,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Shipping Cost (ETB)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 710,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"number\",\n                  step: \"0.01\",\n                  value: formData.shipping.shippingCost,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    shipping: {\n                      ...prev.shipping,\n                      shippingCost: e.target.value\n                    }\n                  })),\n                  disabled: formData.shipping.freeShipping\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 711,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 709,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n                type: \"checkbox\",\n                label: \"Free Shipping\",\n                checked: formData.shipping.freeShipping,\n                onChange: e => setFormData(prev => ({\n                  ...prev,\n                  shipping: {\n                    ...prev.shipping,\n                    freeShipping: e.target.checked\n                  }\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 722,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 708,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 696,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: handleModalClose,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 735,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            children: editingProduct ? 'Update Product' : 'Create Product'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 341,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminProductsPage, \"yWvfjqMZitGQTvXIo2XOyXQdTog=\", false, function () {\n  return [useApp, useLocation];\n});\n_c = AdminProductsPage;\nexport default AdminProductsPage;\nvar _c;\n$RefreshReg$(_c, \"AdminProductsPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Container","Row","Col","Card","Table","Badge","Button","Form","Modal","Alert","Link","useLocation","productsAPI","categoriesAPI","useApp","LoadingSpinner","jsxDEV","_jsxDEV","apiBaseUrl","process","env","REACT_APP_API_URL","trim","resolveAssetBaseUrl","envAsset","REACT_APP_ASSET_BASE_URL","replace","window","location","protocol","hostname","assetBaseUrl","fallbackImageUrl","AdminProductsPage","_s","products","setProducts","categories","setCategories","loading","setLoading","error","setError","filter","setFilter","showModal","setShowModal","editingProduct","setEditingProduct","imageFile","setImageFile","formData","setFormData","name","en","am","description","price","originalPrice","category","stock","brand","region","city","weight","value","unit","tags","shipping","freeShipping","shippingCost","ethiopianRegions","language","getLocalized","obj","Object","values","fetchProducts","response","getProducts","limit","filteredProducts","data","product","status","console","fetchCategories","list","getCategoriesList","debug","pathname","endsWith","length","err","warn","handleCreateClick","handleEditClick","_product$category","_product$tags","_id","join","catch","handleModalClose","handleSubmit","e","preventDefault","submitData","split","map","tag","parseFloat","parseInt","undefined","productId","updateProduct","_response","_response$data","_response$data$data","_response2","_response2$data","createProduct","uploadData","FormData","append","uploadImage","uploadErr","alert","handleImageChange","event","file","target","files","handleDelete","confirm","deleteProduct","handleStatusToggle","currentStatus","newStatus","getStockVariant","getStockText","resolveImageUrl","_product$images","candidates","images","find","img","isPrimary","primaryImage","thumbnail","imageUrl","image","photo","candidate","Boolean","url","test","normalizedPath","startsWith","normalizedBase","slice","origin","message","fileName","_jsxFileName","lineNumber","columnNumber","fluid","children","className","Select","style","width","onChange","variant","onClick","Header","Body","responsive","hover","_product$category2","_product$location","_product$location2","_product$location3","_product$location4","src","alt","sku","height","objectFit","bg","toLocaleString","as","to","size","show","onHide","closeButton","Title","onSubmit","md","Group","Label","Control","type","prev","required","rows","step","placeholder","accept","Text","muted","id","code","title","disabled","Check","label","checked","Footer","_c","$RefreshReg$"],"sources":["C:/my project/final project/ethio-ecommerce/ethio-ecommerce-frontend/src/pages/admin/AdminProductsPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Container, Row, Col, Card, Table, Badge, Button, Form, Modal, Alert } from 'react-bootstrap';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { productsAPI, categoriesAPI } from '../../services/api';\r\nimport { useApp } from '../../contexts/AppContext';\r\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\r\n\r\nconst apiBaseUrl = (process.env.REACT_APP_API_URL || 'http://localhost:5000/api').trim();\r\n\r\nconst resolveAssetBaseUrl = () => {\r\n  const envAsset = (process.env.REACT_APP_ASSET_BASE_URL || '').trim();\r\n  if (envAsset) {\r\n    return envAsset;\r\n  }\r\n\r\n  if (apiBaseUrl) {\r\n    return apiBaseUrl.replace(/\\/api\\/?$/, '');\r\n  }\r\n\r\n  if (typeof window !== 'undefined') {\r\n    return `${window.location.protocol}//${window.location.hostname}:5000`;\r\n  }\r\n\r\n  return '';\r\n};\r\n\r\nconst assetBaseUrl = resolveAssetBaseUrl();\r\nconst fallbackImageUrl = 'https://via.placeholder.com/60?text=No+Image';\r\n\r\nconst AdminProductsPage = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [filter, setFilter] = useState('all');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingProduct, setEditingProduct] = useState(null);\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    name: { en: '', am: '' },\r\n    description: { en: '', am: '' },\r\n    price: '',\r\n    originalPrice: '',\r\n    category: '',\r\n    stock: '',\r\n    brand: '',\r\n    location: {\r\n      region: 'Addis Ababa',\r\n      city: ''\r\n    },\r\n    weight: {\r\n      value: '',\r\n      unit: 'g'\r\n    },\r\n    tags: '',\r\n    shipping: {\r\n      freeShipping: false,\r\n      shippingCost: '0'\r\n    }\r\n  });\r\n\r\n  const { ethiopianRegions, language } = useApp();\r\n\r\n  // Safe localization helper: accepts either a localized map {en,am} or a plain string\r\n  const getLocalized = (obj) => {\r\n    if (!obj) return '';\r\n    if (typeof obj === 'string') return obj;\r\n    if (typeof obj === 'object') return obj[language] || obj.en || Object.values(obj)[0] || '';\r\n    return '';\r\n  };\r\n\r\n  const fetchProducts = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await productsAPI.getProducts({ limit: 100 });\r\n      let filteredProducts = response.data.data;\r\n\r\n      if (filter !== 'all') {\r\n        if (filter === 'low-stock') {\r\n          filteredProducts = filteredProducts.filter(product => product.stock < 10);\r\n        } else if (filter === 'out-of-stock') {\r\n          filteredProducts = filteredProducts.filter(product => product.stock === 0);\r\n        } else if (filter === 'inactive') {\r\n          filteredProducts = filteredProducts.filter(product => product.status === 'inactive');\r\n        }\r\n      }\r\n\r\n      setProducts(filteredProducts);\r\n    } catch (error) {\r\n      setError('Failed to load products');\r\n      console.error('Error fetching products:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filter]);\r\n\r\n  const fetchCategories = useCallback(async () => {\r\n    try {\r\n      const list = await categoriesAPI.getCategoriesList();\r\n      console.debug('AdminProductsPage: fetched categories (normalized)', list);\r\n      setCategories(list);\r\n      return list;\r\n    } catch (error) {\r\n      console.error('Error fetching categories:', error);\r\n      return [];\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n    fetchCategories();\r\n  }, [fetchProducts, fetchCategories]);\r\n\r\n  // If the admin opens the \"new product\" route directly (e.g. /admin/products/new)\r\n  // automatically open the Create Product modal so the user sees the form.\r\n  const location = useLocation();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useEffect(() => {\r\n    // Auto-open modal when visiting /admin/products/new. Do not depend on\r\n    // `handleCreateClick` to avoid stale-deps lint warnings; inline the\r\n    // minimal logic here.\r\n    (async () => {\r\n      try {\r\n        if (location && location.pathname && location.pathname.endsWith('/new')) {\r\n          setEditingProduct(null);\r\n          setFormData({\r\n            name: { en: '', am: '' },\r\n            description: { en: '', am: '' },\r\n            price: '',\r\n            originalPrice: '',\r\n            category: '',\r\n            stock: '',\r\n            brand: '',\r\n            location: { region: 'Addis Ababa', city: '' },\r\n            weight: { value: '', unit: 'g' },\r\n            tags: '',\r\n            shipping: { freeShipping: false, shippingCost: '0' }\r\n          });\r\n\r\n          if (!categories || categories.length === 0) {\r\n            await fetchCategories();\r\n          }\r\n          setShowModal(true);\r\n        }\r\n      } catch (err) {\r\n        console.warn('Could not auto-open new product modal', err);\r\n      }\r\n    })();\r\n    // We only want to run this when pathname changes\r\n  }, [categories, fetchCategories, location]);\r\n\r\n  const handleCreateClick = async () => {\r\n    setEditingProduct(null);\r\n    setFormData({\r\n      name: { en: '', am: '' },\r\n      description: { en: '', am: '' },\r\n      price: '',\r\n      originalPrice: '',\r\n      category: '',\r\n      stock: '',\r\n      brand: '',\r\n      location: {\r\n        region: 'Addis Ababa',\r\n        city: ''\r\n      },\r\n      weight: {\r\n        value: '',\r\n        unit: 'g'\r\n      },\r\n      tags: '',\r\n      shipping: {\r\n        freeShipping: false,\r\n        shippingCost: '0'\r\n      }\r\n    });\r\n    setImageFile(null);\r\n    // Ensure categories are loaded before showing the modal so the Category select\r\n    // has options available immediately.\r\n    try {\r\n      if (!categories || categories.length === 0) {\r\n        await fetchCategories();\r\n      }\r\n    } catch (err) {\r\n      console.warn('Failed to fetch categories before opening modal', err);\r\n    }\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleEditClick = (product) => {\r\n    setEditingProduct(product);\r\n    setFormData({\r\n      name: product.name,\r\n      description: product.description,\r\n      price: product.price,\r\n      originalPrice: product.originalPrice || '',\r\n      category: product.category?._id || '',\r\n      stock: product.stock,\r\n      brand: product.brand || '',\r\n      location: product.location,\r\n      weight: product.weight || { value: '', unit: 'g' },\r\n      tags: product.tags?.join(', ') || '',\r\n      shipping: product.shipping || { freeShipping: false, shippingCost: '0' }\r\n    });\r\n    setImageFile(null);\r\n    // Ensure categories are available so the product's category can be selected\r\n    // in the dropdown when editing.\r\n    if (!categories || categories.length === 0) {\r\n      fetchCategories().catch(err => console.warn('Failed to fetch categories', err));\r\n    }\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setShowModal(false);\r\n    setImageFile(null);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const submitData = {\r\n        ...formData,\r\n        tags: formData.tags.split(',').map(tag => tag.trim()).filter(tag => tag),\r\n        price: parseFloat(formData.price),\r\n        stock: parseInt(formData.stock),\r\n        originalPrice: formData.originalPrice ? parseFloat(formData.originalPrice) : undefined,\r\n        shipping: {\r\n          ...formData.shipping,\r\n          shippingCost: parseFloat(formData.shipping.shippingCost)\r\n        }\r\n      };\r\n\r\n      let productId = editingProduct?._id;\r\n      let response;\r\n\r\n      if (editingProduct) {\r\n        response = await productsAPI.updateProduct(editingProduct._id, submitData);\r\n      } else {\r\n        response = await productsAPI.createProduct(submitData);\r\n        productId = response?.data?.data?._id || response?.data?._id || productId;\r\n      }\r\n\r\n      if (imageFile && productId) {\r\n        const uploadData = new FormData();\r\n        uploadData.append('file', imageFile);\r\n        try {\r\n          await productsAPI.uploadImage(productId, uploadData);\r\n        } catch (uploadErr) {\r\n          console.error('Image upload failed:', uploadErr);\r\n          alert('Product created but image upload failed. You can try uploading again from the edit menu.');\r\n        }\r\n      }\r\n\r\n      handleModalClose();\r\n      fetchProducts();\r\n    } catch (error) {\r\n      alert(`Failed to ${editingProduct ? 'update' : 'create'} product`);\r\n    }\r\n  };\r\n\r\n  const handleImageChange = (event) => {\r\n    const file = event.target.files && event.target.files[0] ? event.target.files[0] : null;\r\n    setImageFile(file);\r\n  };\r\n\r\n  const handleDelete = async (productId) => {\r\n    if (window.confirm('Are you sure you want to delete this product?')) {\r\n      try {\r\n        await productsAPI.deleteProduct(productId);\r\n        fetchProducts();\r\n      } catch (error) {\r\n        alert('Failed to delete product');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleStatusToggle = async (productId, currentStatus) => {\r\n    try {\r\n      const newStatus = currentStatus === 'active' ? 'inactive' : 'active';\r\n      await productsAPI.updateProduct(productId, { status: newStatus });\r\n      fetchProducts();\r\n    } catch (error) {\r\n      alert('Failed to update product status');\r\n    }\r\n  };\r\n\r\n  const getStockVariant = (stock) => {\r\n    if (stock === 0) return 'danger';\r\n    if (stock < 10) return 'warning';\r\n    return 'success';\r\n  };\r\n\r\n  const getStockText = (stock) => {\r\n    if (stock === 0) return 'Out of Stock';\r\n    if (stock < 10) return `Low (${stock})`;\r\n    return `In Stock (${stock})`;\r\n  };\r\n\r\n  const resolveImageUrl = (product) => {\r\n    if (!product) return fallbackImageUrl;\r\n\r\n    const candidates = [\r\n      product.images?.find((img) => img?.isPrimary),\r\n      ...(product.images || []),\r\n      product.primaryImage,\r\n      product.thumbnail,\r\n      product.imageUrl,\r\n      product.image,\r\n      product.photo\r\n    ];\r\n\r\n    const candidate = candidates.find(Boolean);\r\n    const url = typeof candidate === 'string' ? candidate : candidate?.url;\r\n\r\n    if (!url) {\r\n      return fallbackImageUrl;\r\n    }\r\n\r\n    if (/^https?:\\/\\//i.test(url)) {\r\n      return url;\r\n    }\r\n\r\n    const normalizedPath = url.startsWith('/') ? url : `/${url}`;\r\n\r\n    if (assetBaseUrl) {\r\n      const normalizedBase = assetBaseUrl.endsWith('/') ? assetBaseUrl.slice(0, -1) : assetBaseUrl;\r\n      return `${normalizedBase}${normalizedPath}`;\r\n    }\r\n\r\n    if (typeof window !== 'undefined') {\r\n      const origin = `${window.location.protocol}//${window.location.hostname}:5000`;\r\n      return `${origin}${normalizedPath}`;\r\n    }\r\n\r\n    return normalizedPath;\r\n  };\r\n\r\n  if (loading) return <LoadingSpinner message=\"Loading products...\" />;\r\n\r\n  return (\r\n    <Container fluid>\r\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n        <div>\r\n          <h1>Product Management</h1>\r\n          <p className=\"text-muted mb-0\">Manage your product catalog</p>\r\n        </div>\r\n        <div className=\"d-flex gap-2\">\r\n          <Form.Select \r\n            style={{ width: '200px' }}\r\n            value={filter}\r\n            onChange={(e) => setFilter(e.target.value)}\r\n          >\r\n            <option value=\"all\">All Products</option>\r\n            <option value=\"low-stock\">Low Stock</option>\r\n            <option value=\"out-of-stock\">Out of Stock</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </Form.Select>\r\n          <Button variant=\"primary\" onClick={handleCreateClick}>\r\n            <i className=\"fas fa-plus me-2\"></i>\r\n            Add Product\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n\r\n      <Card>\r\n        <Card.Header>\r\n          <h5 className=\"mb-0\">\r\n            Products ({products.length})\r\n            {filter !== 'all' && <span className=\"text-muted\"> - {filter.replace('-', ' ')}</span>}\r\n          </h5>\r\n        </Card.Header>\r\n        <Card.Body className=\"p-0\">\r\n          <Table responsive hover className=\"mb-0\">\r\n            <thead className=\"bg-light\">\r\n              <tr>\r\n                <th>Product</th>\r\n                <th>Category</th>\r\n                <th>Price</th>\r\n                <th>Stock</th>\r\n                <th>Status</th>\r\n                <th>Location</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {(products || []).map(product => (\r\n                <tr key={product._id}>\r\n                  <td>\r\n                    <div className=\"d-flex align-items-center\">\r\n                      <img \r\n                        src={resolveImageUrl(product)} \r\n                        alt={getLocalized(product.name) || product.sku}\r\n                        className=\"rounded me-3\"\r\n                        style={{ width: '50px', height: '50px', objectFit: 'cover' }}\r\n                      />\r\n                      <div>\r\n                        <div className=\"fw-semibold\">{getLocalized(product.name)}</div>\r\n                        {product.name && typeof product.name === 'object' && product.name.am && (\r\n                          <small className=\"text-muted\">{product.name.am}</small>\r\n                        )}\r\n                        <div>\r\n                          <small className=\"text-muted\">SKU: {product.sku}</small>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <Badge bg=\"secondary\">\r\n                      {getLocalized(product.category?.name)}\r\n                    </Badge>\r\n                  </td>\r\n                  <td>\r\n                    <strong>ETB {(product.price || 0).toLocaleString()}</strong>\r\n                    {product.originalPrice && product.originalPrice > product.price && (\r\n                      <div>\r\n                        <small className=\"text-muted text-decoration-line-through\">\r\n                          ETB {product.originalPrice.toLocaleString()}\r\n                        </small>\r\n                      </div>\r\n                    )}\r\n                  </td>\r\n                  <td>\r\n                    <Badge bg={getStockVariant(product.stock)}>\r\n                      {getStockText(product.stock)}\r\n                    </Badge>\r\n                  </td>\r\n                  <td>\r\n                    <Badge bg={product.status === 'active' ? 'success' : 'secondary'}>\r\n                      {product.status}\r\n                    </Badge>\r\n                  </td>\r\n                  <td>\r\n                      <small>\r\n                      {product.location?.city || ''}{product.location?.city && product.location?.region ? ', ' : ''}{product.location?.region || ''}\r\n                    </small>\r\n                  </td>\r\n                  <td>\r\n                    <div className=\"d-flex gap-1\">\r\n                      <Button\r\n                        as={Link}\r\n                        to={`/product/${product._id}`}\r\n                        variant=\"outline-primary\"\r\n                        size=\"sm\"\r\n                        target=\"_blank\"\r\n                      >\r\n                        View\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outline-secondary\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleEditClick(product)}\r\n                      >\r\n                        Edit\r\n                      </Button>\r\n                      <Button\r\n                        variant={product.status === 'active' ? 'warning' : 'success'}\r\n                        size=\"sm\"\r\n                        onClick={() => handleStatusToggle(product._id, product.status)}\r\n                      >\r\n                        {product.status === 'active' ? 'Deactivate' : 'Activate'}\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outline-danger\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleDelete(product._id)}\r\n                      >\r\n                        Delete\r\n                      </Button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n\r\n          {products.length === 0 && (\r\n            <div className=\"text-center py-5\">\r\n              <i className=\"fas fa-box-open fa-3x text-muted mb-3\"></i>\r\n              <h5>No products found</h5>\r\n              <p className=\"text-muted\">\r\n                {filter === 'all' ? 'No products have been added yet.' : `No ${filter.replace('-', ' ')} products found.`}\r\n              </p>\r\n              <Button variant=\"primary\" onClick={handleCreateClick}>\r\n                Add Your First Product\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </Card.Body>\r\n      </Card>\r\n\r\n\r\n      {/* Product Form Modal */}\r\n  <Modal show={showModal} onHide={handleModalClose} size=\"lg\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            {editingProduct ? 'Edit Product' : 'Create New Product'}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Modal.Body>\r\n            <Row>\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>English Name *</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    value={formData.name.en}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      name: { ...prev.name, en: e.target.value }\r\n                    }))}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Amharic Name *</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    value={formData.name.am}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      name: { ...prev.name, am: e.target.value }\r\n                    }))}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>English Description *</Form.Label>\r\n                  <Form.Control\r\n                    as=\"textarea\"\r\n                    rows={3}\r\n                    value={formData.description.en}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      description: { ...prev.description, en: e.target.value }\r\n                    }))}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Amharic Description *</Form.Label>\r\n                  <Form.Control\r\n                    as=\"textarea\"\r\n                    rows={3}\r\n                    value={formData.description.am}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      description: { ...prev.description, am: e.target.value }\r\n                    }))}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md={4}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Price (ETB) *</Form.Label>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    value={formData.price}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, price: e.target.value }))}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={4}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Original Price (ETB)</Form.Label>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    value={formData.originalPrice}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, originalPrice: e.target.value }))}\r\n                    placeholder=\"For display discount\"\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={4}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Stock *</Form.Label>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    value={formData.stock}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, stock: e.target.value }))}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Product Image</Form.Label>\r\n                  <Form.Control\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleImageChange}\r\n                  />\r\n                  <Form.Text muted>\r\n                    Upload a primary product image (JPEG, PNG). You can add more images after saving.\r\n                  </Form.Text>\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Category *</Form.Label>\r\n                  <Form.Select\r\n                    value={formData.category}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, category: e.target.value }))}\r\n                    required\r\n                  >\r\n                    <option value=\"\">Select Category</option>\r\n                    {(categories || []).map(category => (\r\n                      <option key={category._id || category.id} value={category._id || category.id}>\r\n                        {getLocalized(category.name) || category.code || category.title || (typeof category === 'string' ? category : '')}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                  {(categories || []).length === 0 ? (\r\n                    <div className=\"mt-2\">\r\n                      <small className=\"text-muted\">No categories loaded  ensure the backend is running and that GET /categories returns data.</small>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"mt-2\">\r\n                      <small className=\"text-muted\">Loaded {(categories || []).length} categories.</small>\r\n                    </div>\r\n                  )}\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Brand</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    value={formData.brand}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, brand: e.target.value }))}\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Region *</Form.Label>\r\n                  <Form.Select\r\n                    value={formData.location.region}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      location: { ...prev.location, region: e.target.value }\r\n                    }))}\r\n                    required\r\n                  >\r\n                    {(ethiopianRegions || []).map(region => (\r\n                      <option key={region} value={region}>\r\n                        {region}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>City *</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    value={formData.location.city}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      location: { ...prev.location, city: e.target.value }\r\n                    }))}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Tags</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    value={formData.tags}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, tags: e.target.value }))}\r\n                    placeholder=\"Separate tags with commas\"\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Shipping Cost (ETB)</Form.Label>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    value={formData.shipping.shippingCost}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      shipping: { ...prev.shipping, shippingCost: e.target.value }\r\n                    }))}\r\n                    disabled={formData.shipping.freeShipping}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Check\r\n                  type=\"checkbox\"\r\n                  label=\"Free Shipping\"\r\n                  checked={formData.shipping.freeShipping}\r\n                  onChange={(e) => setFormData(prev => ({\r\n                    ...prev,\r\n                    shipping: { ...prev.shipping, freeShipping: e.target.checked }\r\n                  }))}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleModalClose}>\r\n              Cancel\r\n            </Button>\r\n            <Button variant=\"primary\" type=\"submit\">\r\n              {editingProduct ? 'Update Product' : 'Create Product'}\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Form>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AdminProductsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}