{"ast":null,"code":"var _jsxFileName = \"C:\\\\my project\\\\final project\\\\ethio-ecommerce\\\\ethio-ecommerce-frontend\\\\src\\\\components\\\\cart\\\\CartSummary.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Card, ListGroup, Button } from 'react-bootstrap';\nimport { useCart } from '../../contexts/CartContext';\nimport { useApp } from '../../contexts/AppContext';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartSummary = () => {\n  _s();\n  const {\n    getCartSummary,\n    cartItems\n  } = useCart();\n  const {\n    formatPrice,\n    t\n  } = useApp();\n  const {\n    isAuthenticated\n  } = useAuth();\n  const navigate = useNavigate();\n  const summary = getCartSummary();\n  const allFreeShipping = cartItems.length > 0 && cartItems.every(item => {\n    var _ref, _shippingInfo$freeShi, _ref2, _shippingInfo$shippin;\n    const shippingInfo = (item === null || item === void 0 ? void 0 : item.shipping) || {};\n    const freeFlag = (_ref = (_shippingInfo$freeShi = shippingInfo.freeShipping) !== null && _shippingInfo$freeShi !== void 0 ? _shippingInfo$freeShi : item === null || item === void 0 ? void 0 : item.freeShipping) !== null && _ref !== void 0 ? _ref : false;\n    const cost = (_ref2 = (_shippingInfo$shippin = shippingInfo.shippingCost) !== null && _shippingInfo$shippin !== void 0 ? _shippingInfo$shippin : item === null || item === void 0 ? void 0 : item.shippingCost) !== null && _ref2 !== void 0 ? _ref2 : 0;\n    return freeFlag || cost === 0;\n  });\n  const handleCheckout = () => {\n    if (!isAuthenticated) {\n      navigate('/login?redirect=/checkout');\n    } else {\n      navigate('/checkout');\n    }\n  };\n  if (cartItems.length === 0) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"mb-0\",\n        children: t('orderSummary')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n      variant: \"flush\",\n      children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Subtotal (\", summary.itemsCount, \" items):\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: formatPrice(summary.subtotal)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Shipping:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: summary.shipping === 0 && allFreeShipping ? 'FREE' : formatPrice(summary.shipping)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Total:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: formatPrice(summary.total)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        size: \"lg\",\n        className: \"w-100\",\n        onClick: handleCheckout,\n        children: t('proceedToCheckout')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), summary.shipping === 0 && allFreeShipping && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-success text-center mt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"small\", {\n          children: \"\\uD83C\\uDF89 You qualify for free shipping!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(CartSummary, \"G+YkSxL+TWZtHtOvrjlh09n18GA=\", false, function () {\n  return [useCart, useApp, useAuth, useNavigate];\n});\n_c = CartSummary;\nexport default CartSummary;\nvar _c;\n$RefreshReg$(_c, \"CartSummary\");","map":{"version":3,"names":["React","Card","ListGroup","Button","useCart","useApp","useAuth","useNavigate","jsxDEV","_jsxDEV","CartSummary","_s","getCartSummary","cartItems","formatPrice","t","isAuthenticated","navigate","summary","allFreeShipping","length","every","item","_ref","_shippingInfo$freeShi","_ref2","_shippingInfo$shippin","shippingInfo","shipping","freeFlag","freeShipping","cost","shippingCost","handleCheckout","children","Header","className","fileName","_jsxFileName","lineNumber","columnNumber","variant","Item","itemsCount","subtotal","total","Body","size","onClick","_c","$RefreshReg$"],"sources":["C:/my project/final project/ethio-ecommerce/ethio-ecommerce-frontend/src/components/cart/CartSummary.js"],"sourcesContent":["import React from 'react';\r\nimport { Card, ListGroup, Button } from 'react-bootstrap';\r\nimport { useCart } from '../../contexts/CartContext';\r\nimport { useApp } from '../../contexts/AppContext';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst CartSummary = () => {\r\n  const { getCartSummary, cartItems } = useCart();\r\n  const { formatPrice, t } = useApp();\r\n  const { isAuthenticated } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const summary = getCartSummary();\r\n  const allFreeShipping = cartItems.length > 0 && cartItems.every(item => {\r\n    const shippingInfo = item?.shipping || {};\r\n    const freeFlag = shippingInfo.freeShipping ?? item?.freeShipping ?? false;\r\n    const cost = shippingInfo.shippingCost ?? item?.shippingCost ?? 0;\r\n    return freeFlag || cost === 0;\r\n  });\r\n\r\n  const handleCheckout = () => {\r\n    if (!isAuthenticated) {\r\n      navigate('/login?redirect=/checkout');\r\n    } else {\r\n      navigate('/checkout');\r\n    }\r\n  };\r\n\r\n  if (cartItems.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <h5 className=\"mb-0\">{t('orderSummary')}</h5>\r\n      </Card.Header>\r\n      \r\n      <ListGroup variant=\"flush\">\r\n        <ListGroup.Item className=\"d-flex justify-content-between\">\r\n          <span>Subtotal ({summary.itemsCount} items):</span>\r\n          <span>{formatPrice(summary.subtotal)}</span>\r\n        </ListGroup.Item>\r\n        \r\n        <ListGroup.Item className=\"d-flex justify-content-between\">\r\n          <span>Shipping:</span>\r\n          <span>\r\n            {summary.shipping === 0 && allFreeShipping\r\n              ? 'FREE'\r\n              : formatPrice(summary.shipping)}\r\n          </span>\r\n        </ListGroup.Item>\r\n        \r\n        <ListGroup.Item className=\"d-flex justify-content-between\">\r\n          <strong>Total:</strong>\r\n          <strong>{formatPrice(summary.total)}</strong>\r\n        </ListGroup.Item>\r\n      </ListGroup>\r\n      \r\n      <Card.Body>\r\n        <Button \r\n          variant=\"primary\" \r\n          size=\"lg\" \r\n          className=\"w-100\"\r\n          onClick={handleCheckout}\r\n        >\r\n          {t('proceedToCheckout')}\r\n        </Button>\r\n        \r\n        {summary.shipping === 0 && allFreeShipping && (\r\n          <div className=\"text-success text-center mt-2\">\r\n            <small>ðŸŽ‰ You qualify for free shipping!</small>\r\n          </div>\r\n        )}\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default CartSummary;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}